<!-- CONTENTS-------------------------------------------------------------------------------------------------->
<div class="contents">
<!-- Section1 about---------------------------------------------------> 
<style>
	th.required::after {
		content: "[必須]";
		color:red;
		font-weight:bold
	}
	.border2.gai th {
		background: #ffff99;
	}
	.border2.cxl th {
		background: #e5e5e5;
	}
	.border2.gai.cxl th {
		background: #e5e5e5;
	}
	.gai tr:first-child th:first-child::after {
		content: "招待外";
		color:red;
	}
	/*.cxl tr:first-child th:first-child::after {
		content: "不参加";
		color:red;
	}
	.gai.cxl tr:first-child th:first-child::after {
		content: "招待外 不参加";
		color:red;
	}*/
</style>
<section id="">
<div id="">

<form action="<?php echo base_url();?>mypage_admin_con/save_member" method="post" autocomplete="off" id="entry_data" > 
	<?php require(APPPATH . "views/element/csrf_input.php"); ?>
	<?php 
	$no = $idx + 1;
	?>
	<h2 style ="background:#005084">EPC2025　エントリー　同伴者<?=$no?>　登録</h2>
	<input type="hidden" name="idx" value="<?=h($idx)?>" />
	<table class="border2 invite" width="100%" id="invite0">
		<tr>
			<th width="30%">お名前</th>
			<td>
				<?=h($reserve['R01_Name'])?>
				<input type="hidden" name="reserve[R01_Name]" value="<?=h($reserve['R01_Name'])?>"/>
			</td>
		</tr>
		<tr>
			<th>入賞者カテゴリー</th>
			<td>
				<?=get_label('カテゴリ',h($common['R01_Category_Flg']))?><br>
			</td>
		</tr>
<!--
		<tr>
			<th>１Q家族招待CP</th>
			<td>
				<?=get_label('1Q',h($common['R01_1Q_Flg']))?>
			</td>
		</tr>
		<tr>
			<th>４Q家族招待CP</th>
			<td>
				<?=get_label('4Q',h($common['R01_4Q_Flg']))?>
			</td>
		</tr>
		<tr>
			<th>xx無料権利</th>
			<td>
				<?=get_label('パーク',h($common['R01_Park_Flg']))?>
				<?=h($common['R01_Park_Flg'])=='1'?PARK_NOTE:''?>
			</td>
		</tr>
-->
		<tr>
			<th>招待人数（本人含む）</th>
			<td>
				<?=h($common['R01_Free_Invites'])?>
			</td>
		</tr>
		<tr>
			<th>自費参加者</th>
			<td>
				<?=h($common['R01_Charge_Invites'])?><?=INVITES_NOTE ?>
			</td>
		</tr>
	</table>
	<table class="border2 invite <?=!empty($invites[$idx]['R01_Cancel_Flg'])?'cxl':''?> <?=$gai?>" id="invite<?=$no?>">
		<tr>
			<th colspan="2">
				■<?=$no<$common['R01_Free_Invites']?'招待':''?>同伴者<?=$no?>
				<?php if($no<$common['R01_Free_Invites'] && $common['R01_Update_Date']=='0000-00-00 00:00:00'):?>
				<br>
				※ご招待の同伴者が参加されない場合は、
				未入力のまま「次へ」へお進みください。
				<?php endif; ?>
				<input type="hidden" name="invite[R01_Entry_Flg]" value="0"/>
				<input type="hidden" name="invite[R01_Cancel_Flg]" value="0"/>
				<span style="float:right">
					<input type="checkbox" id="R01_Cancel_Flg" name="invite[R01_Cancel_Flg]" value="1" <?=!empty($invites[$idx]['R01_Cancel_Flg'])?'checked':''?> onclick="cancel_member(this)">
					<label for="R01_Cancel_Flg">不参加</label>
				</span>
			</th>
		</tr>
		<tr>
			<th class="required" style="width:30%">お名前:姓</th>
			<td>
				<input type="text" name="invite[R01_Name_Last]" id="R01_Name_Last" value="<?=h($invites[$idx]['R01_Name_Last'])?>" />
				<span class="error_msg" id="R01_Name_Last_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required" style="width:30%">お名前:名</th>
			<td>
				<input type="text" name="invite[R01_Name_First]" id="R01_Name_First" value="<?=h($invites[$idx]['R01_Name_First'])?>" />
				<span class="error_msg" id="R01_Name_First_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required">お名前:姓（カタカナ）</th>
			<td>
				<input type="text" name="invite[R01_Roma_Last]" id="R01_Roma_Last" value="<?=h($invites[$idx]['R01_Roma_Last'])?>" />
				<span class="error_msg" id="R01_Roma_Last_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required">お名前:名（カタカナ）</th>
			<td>
				<input type="text" name="invite[R01_Roma_First]" id="R01_Roma_First" value="<?=h($invites[$idx]['R01_Roma_First'])?>" />
				<span class="error_msg" id="R01_Roma_First_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required">生年月日</th>
			<td>
				<?php
					$Number_arr = [];
					$Number_arr = explode_date($invites[$idx]['R01_Birthdate']);
				?>
				<input type="text" name="invite[Birth_Year]" id="Birth_Year" value="<?= !empty($Number_arr[0])?h($Number_arr[0]):'' ?>" size="4" class="digits" onchange="age_changed()"/>年
				<input type="text" name="invite[Birth_Month]" id="Birth_Month" value="<?= !empty($Number_arr[1])?h($Number_arr[1]):'' ?>" size="4" class="digits" onchange="age_changed()"/>月
				<input type="text" name="invite[Birth_Day]" id="Birth_Day" value="<?= !empty($Number_arr[2])?h($Number_arr[2]):'' ?>" size="4" class="digits" onchange="age_changed()"/>日
				<span class="error_msg" id="R01_Birthdate_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required">年齢</th>
			<td>
				<input type="text" name="invite[R01_Age]" value="<?=h($invites[$idx]['R01_Age'])?>" size="2" class="digits"/>
				<span class="error_msg" id="R01_Age_error"></span>
			</td>
		</tr>
		<tr>
			<th class="required">性別</th>
			<td>
				<input type="hidden" name="invite[R01_Gender]" value="0" />
				<input type="radio" id="R01_Gender_1" name="invite[R01_Gender]" value="1" <?='1'==h($invites[$idx]['R01_Gender'])?'checked':''?>/>
				<label for="R01_Gender_1">男性</label><br>
				<input type="radio" id="R01_Gender_2" name="invite[R01_Gender]" value="2" <?='2'==h($invites[$idx]['R01_Gender'])?'checked':''?>/>
				<label for="R01_Gender_2">女性</label><br>
				<p class="error_msg" id="R01_Gender_error"></p>
			</td>
		</tr>
		<tr>
			<th class="required">続柄</th>
			<td>
				入賞者本人の <select name="invite[R01_Relationship]">
					<option value="0" selected="selected">選択してください</option>
					<?php foreach(getRelationship() as $id => $val):?>
					<option value="<?php echo $id ?>" <?=$id==$invites[$idx]['R01_Relationship']?'selected':''?>><?php echo h($val) ?></option>
					<?php endforeach;?>
				</select> 
				<span class="error_msg" id="R01_Relationship_error"></span><br>
				※注意：「本部承認済」は事前に本部が承認したもののみ選択できます
				
			</td>
		</tr>
		<tr>
			<th class="">携帯電話番号</th>
			<td>
				<?php
					$Number_arr = [];
					$Number_arr = explode_date($invites[$idx]['R01_Mobile_No']);
				?>
				<input type="text" name="invite[Mobile1]" value="<?= !empty($Number_arr[0])?h($Number_arr[0]):'' ?>" size="4"/> -
				<input type="text" name="invite[Mobile2]" value="<?= !empty($Number_arr[1])?h($Number_arr[1]):'' ?>" size="4"/> -
				<input type="text" name="invite[Mobile3]" value="<?= !empty($Number_arr[2])?h($Number_arr[2]):'' ?>" size="4"/>
				<span class="error_msg" id="R01_Mobile_No_error"></span>
			</td>
		</tr>
		<tr>
			<th class="">メールアドレス</th>
			<td>
				<input type="text" name="invite[R01_Email]" value="<?=h($invites[$idx]['R01_Email'])?>" size="35"/>
				<span class="error_msg" id="R01_Email_error"></span><br>
				<input type="text" name="invite[R01_Email_cfm]" value="<?=h($invites[$idx]['R01_Email'])?>" size="35"/>（確認用）
				<span class="error_msg" id="R01_Email_cfm_error"></span>
			</td>
		</tr>
		<tr>
			<th colspan="2">
				<input type="checkbox" name="invite[copy]" value="1" onchange="copy_checked(this)" />代表者と同じ 
			</th>
		</tr>
		<tr class="copy">
			<th class="required copy">自宅郵便番号</th>
			<td>
				<input type="text" name="invite[R01_Postal1]" value="<?=h($invites[$idx]['R01_Postal1'])?>" size="3" class="digits"/> -
				<input type="text" name="invite[R01_Postal2]" value="<?=h($invites[$idx]['R01_Postal2'])?>" size="4" class="digits"/>
				<span class="error_msg" id="R01_Postal_error"></span>
				<input type="button" value="住所検索" onclick="AjaxZip3.zip2addr('invite[R01_Postal1]','invite[R01_Postal2]','invite[R01_Prefecture]','invite[R01_Address]','invite[R01_Address2]');"/>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">都道府県</th>
			<td>
				<select name="invite[R01_Prefecture]">
					<option value="0" selected="selected">選択してください</option>
					<?php foreach(getPrefecture() as $id => $val):?>
					<option value="<?php echo $id ?>" <?=$id==$invites[$idx]['R01_Prefecture']?'selected':''?>><?php echo h($val) ?></option>
					<?php endforeach;?>
				</select> 
				<span class="error_msg" id="R01_Prefecture_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">市区郡</th>
			<td>
				<input type="text" name="invite[R01_Address]" value="<?=h($invites[$idx]['R01_Address'])?>" size="35"/>
				<span class="error_msg" id="R01_Address_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">町村名番地番号</th>
			<td>
				<input type="text" name="invite[R01_Address2]" value="<?=h($invites[$idx]['R01_Address2'])?>" size="35"/>
				<span class="error_msg" id="R01_Address2_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th>建物名・部屋番号等</th>
			<td>
				<input type="text" name="invite[R01_Address3]" value="<?=h($invites[$idx]['R01_Address3'])?>" size="35"/>
				<span class="error_msg" id="R01_Address3_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">連絡先電話番号</th>
			<td>
				<?php
					$Number_arr = [];
					$Number_arr = explode_date($invites[$idx]['R01_Tel_No']);
				?>
				<input type="text" name="invite[Tel1]" value="<?= !empty($Number_arr[0])?h($Number_arr[0]):'' ?>" size="4"/> -
				<input type="text" name="invite[Tel2]" value="<?= !empty($Number_arr[1])?h($Number_arr[1]):'' ?>" size="4"/> -
				<input type="text" name="invite[Tel3]" value="<?= !empty($Number_arr[2])?h($Number_arr[2]):'' ?>" size="4"/>
				<span class="error_msg" id="R01_Tel_No_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">ご旅行中の緊急連絡先：お名前</th>
			<td>
				<input type="text" name="invite[R01_Emer_Name]" value="<?=h($invites[$idx]['R01_Emer_Name'])?>" />
				<span class="error_msg" id="R01_Emer_Name_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">ご旅行中の緊急連絡先：続柄</th>
			<td>
				<input type="text" name="invite[R01_Emer_Relationship]" value="<?=h($invites[$idx]['R01_Emer_Relationship'])?>" />
				<span class="error_msg" id="R01_Emer_Relationship_error"></span>
			</td>
		</tr>
		<tr class="copy">
			<th class="required">ご旅行中の緊急連絡先：電話番号</th>
			<td>
				<?php
					$Number_arr = [];
					$Number_arr = explode_date($invites[$idx]['R01_Emer_Tel_No']);
				?>
				<input type="text" name="invite[Emer1]" value="<?= !empty($Number_arr[0])?h($Number_arr[0]):'' ?>" size="4"/> -
				<input type="text" name="invite[Emer2]" value="<?= !empty($Number_arr[1])?h($Number_arr[1]):'' ?>" size="4"/> -
				<input type="text" name="invite[Emer3]" value="<?= !empty($Number_arr[2])?h($Number_arr[2]):'' ?>" size="4"/>
				<span class="error_msg" id="R01_Emer_Tel_No_error"></span>
			</td>
		</tr>
		<tr class="baby">
			<th colspan="2">
				お子様アンケート
			</th>
		</tr>
		<tr class="baby-bed">
			<th class="required">＜宿泊 0歳のみ＞<br>ベビーベッドのご希望について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Baby_Bed]" value="0" />
				<input type="radio" id="R01_Baby_Bed_1" name="invite[R01_Baby_Bed]" value="1" <?='1'==$invites[$idx]['R01_Baby_Bed']?'checked':''?>/>
				<label for="R01_Baby_Bed_1">希望する<br>　数に限りがございますので、ご希望に添えない場合がございます。<br>　その場合小さなお子様から優先となりますので、予めご了承ください。</label><br>
				<input type="radio" id="R01_Baby_Bed_2" name="invite[R01_Baby_Bed]" value="2" <?='2'==$invites[$idx]['R01_Baby_Bed']?'checked':''?>/>
				<label for="R01_Baby_Bed_2">希望しない　＊大人の方と添い寝になります</label><br>
				<input type="radio" id="R01_Baby_Bed_3" name="invite[R01_Baby_Bed]" value="3" <?='3'==$invites[$idx]['R01_Baby_Bed']?'checked':''?>/>
				<label for="R01_Baby_Bed_3">大人用ベッドを1台利用する　＊別途費用が発生いたします</label>
				<p class="error_msg" id="R01_Baby_Bed_error"></p>
				<!-- ベビーベッドサイズ　102cm x 67cm x 98cm<br>
				※0歳～1歳半まで利用できます。<br>
				ホテルの安全規則により、ベビーベッド用の毛布と枕のご用意はございません。 -->
			</td>
		</tr>
		<tr class="baby-bed2">
			<th class="required">＜宿泊＞<br>ベッドのご希望について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Baby_Bed2]" value="0" />
				<input type="radio" id="R01_Baby_Bed2_1" name="invite[R01_Baby_Bed2]" value="1" <?='1'==$invites[$idx]['R01_Baby_Bed2']?'checked':''?>/>
				<label for="R01_Baby_Bed2_1">大人用ベッドを1台利用する　＊別途費用が発生いたします</label><br>
				<input type="radio" id="R01_Baby_Bed2_2" name="invite[R01_Baby_Bed2]" value="2" <?='2'==$invites[$idx]['R01_Baby_Bed2']?'checked':''?>/>
				<label for="R01_Baby_Bed2_2">希望しない　＊大人の方と添い寝になります</label><br>
				<p class="error_msg" id="R01_Baby_Bed2_error"></p>
			</td>
		</tr>
		<tr class="baby-party">
			<th class="required">＜食事＞<br>パーティ飲食について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Baby_Meal]" value="0" />
				<input type="radio" id="R01_Baby_Meal_1" name="invite[R01_Baby_Meal]" value="1" <?='1'==$invites[$idx]['R01_Baby_Meal']?'checked':''?>/>
				<label for="R01_Baby_Meal_1">キッズプレートを希望する　＊別途費用が発生いたします</label><br>
				<input type="radio" id="R01_Baby_Meal_2" name="invite[R01_Baby_Meal]" value="2" <?='2'==$invites[$idx]['R01_Baby_Meal']?'checked':''?>/>
				<label for="R01_Baby_Meal_2">希望しない</label>
				<p class="error_msg" id="R01_Baby_Meal_error"></p>
			</td>
		</tr>
		<tr class="baby">
			<th class="required">＜食事＞<br>お子様用ハイチェアについて<br></th>
			<td>
				<input type="hidden" name="invite[R01_Baby_Chair]" value="0" />
				<input type="radio" id="R01_Baby_Chair_1" name="invite[R01_Baby_Chair]" value="1" <?='1'==$invites[$idx]['R01_Baby_Chair']?'checked':''?>/>
				<label for="R01_Baby_Chair_1">希望する</label><br>
				<input type="radio" id="R01_Baby_Chair_2" name="invite[R01_Baby_Chair]" value="2" <?='2'==$invites[$idx]['R01_Baby_Chair']?'checked':''?>/>
				<label for="R01_Baby_Chair_2">希望しない</label>
				<p class="error_msg" id="R01_Baby_Chair_error"></p>
				席数が非常に少ないため、ご希望にそえない場合もございますので、予めご了承ください。
			</td>
		</tr>

		<tr class="baby">
			<th class="required">＜航空機／新幹線＞<br>座席のご利用について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Baby_Bassinet]" value="0" />
				<input type="radio" id="R01_Baby_Bassinet_1" name="invite[R01_Baby_Bassinet]" value="1" <?='1'==$invites[$idx]['R01_Baby_Bassinet']?'checked':''?>/>
				<label for="R01_Baby_Bassinet_1">大人1名の膝の上</label><br>
				<input type="radio" id="R01_Baby_Bassinet_2" name="invite[R01_Baby_Bassinet]" value="2" <?='2'==$invites[$idx]['R01_Baby_Bassinet']?'checked':''?>/>
				<label for="R01_Baby_Bassinet_2">座席を利用する ※別途費用が発生いたします</label>
				<p class="error_msg" id="R01_Baby_Bassinet_error"></p>
			</td>
		</tr>

		<tr class="infant">
			<th colspan="2">
				お子様アンケート
			</th>
		</tr>
		<tr class="infant-bed">
			<th class="required">＜宿泊＞<br>ベッドのご希望について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Infant_Bed]" value="0" />
				<input type="radio" id="R01_Infant_Bed_1" name="invite[R01_Infant_Bed]" value="1" <?='1'==$invites[$idx]['R01_Infant_Bed']?'checked':''?>/>
				<label for="R01_Infant_Bed_1">大人用ベッドを1台利用する　＊別途費用が発生いたします</label><br>
				<input type="radio" id="R01_Infant_Bed_2" name="invite[R01_Infant_Bed]" value="2" <?='2'==$invites[$idx]['R01_Infant_Bed']?'checked':''?>/>
				<label for="R01_Infant_Bed_2">希望しない　＊大人の方と添い寝になります</label>
				<p class="error_msg" id="R01_Infant_Bed_error"></p>
			</td>
		</tr>
		<tr class="infant-party">
			<th class="required">＜食事　3～11歳まで＞<br>パーティ飲食について<br></th>
			<td>
				<input type="hidden" name="invite[R01_Infant_Meal]" value="0" />
				<input type="radio" id="R01_Infant_Meal_1" name="invite[R01_Infant_Meal]" value="1" <?='1'==$invites[$idx]['R01_Infant_Meal']?'checked':''?>/>
				<label for="R01_Baby_Meal_1">キッズプレートを希望する</label><br>
				<input type="radio" id="R01_Infant_Meal_2" name="invite[R01_Infant_Meal]" value="2" <?='2'==$invites[$idx]['R01_Infant_Meal']?'checked':''?>/>
				<label for="R01_Baby_Meal_2">大人用メニューを希望する　※別途費用が発生します</label>
				<p class="error_msg" id="R01_Infant_Meal_error"></p>
			</td>
		</tr>
		<tr class="infant-chair">
			<th class="required">＜食事＞<br>お子様用ハイチェアについて<br></th>
			<td>
				<input type="hidden" name="invite[R01_Infant_Chair]" value="0" />
				<input type="radio" id="R01_Infant_Chair_1" name="invite[R01_Infant_Chair]" value="1" <?='1'==$invites[$idx]['R01_Infant_Chair']?'checked':''?>/>
				<label for="R01_Infant_Chair_1">希望する</label><br>
				<input type="radio" id="R01_Infant_Chair_2" name="invite[R01_Infant_Chair]" value="2" <?='2'==$invites[$idx]['R01_Infant_Chair']?'checked':''?>/>
				<label for="R01_Infant_Chair_2">希望しない</label>
				<p class="error_msg" id="R01_Infant_Chair_error"></p>
				席数が非常に少ないため、ご希望にそえない場合もございますので、予めご了承ください。
			</td>
		</tr>
		<tr class="infant-bassinet">
			<th>＜往路　新幹線利用＞<br><span style="color:red;">【東北・中部・関西発の方のみ必須】</span><br><a href="<?php echo base_url();?>pdf/Transportation_ EPC2025.pdf" target="_blank"><span style="color:#000; font-weght: bold;"><u>支社別 交通移動一覧</u></span></a></th>
			<td>
				<input type="hidden" name="invite[R01_Infant_Bassinet]" value="0" />
				<input type="radio" id="R01_Infant_Bassinet_1" name="invite[R01_Infant_Bassinet]" value="1" <?='1'==$invites[$idx]['R01_Infant_Bassinet']?'checked':''?>/>
				<label for="R01_Infant_Bassinet_1">大人1名の膝の上　※自費参加の場合は割引となります</label><br>
				<input type="radio" id="R01_Infant_Bassinet_2" name="invite[R01_Infant_Bassinet]" value="2" <?='2'==$invites[$idx]['R01_Infant_Bassinet']?'checked':''?>/>
				<label for="R01_Infant_Bassinet_2">新幹線の座席を1席利用する</label>
				<br>
				<span style="color:red;">※北海道／中国四国／九州発の方の移動は航空機、関東／首都圏／の方は在来線移動のため入力は不要です。</span><br>
				<p class="error_msg" id="R01_Infant_Bassinet_error"></p>
			</td>
		</tr>

	</table>
	
</form>
<div style="text-align: center;margin-top:1em;">
<div class="his-button" style="border-radius: 5px;">
	
	<input type="image"  src="<?php echo base_url();?>img/back.png" onclick="go_back_admin_member_no();"/>
&nbsp;&nbsp;&nbsp;
	<input type="image"  src="<?php echo base_url();?>img/save.png" onclick="return validate_member(2);"/>

</div>
</div>
	
</section>
<div id="dialog-confirm" title="確認">
	<p>未入力の項目があります。<br>後程入力する場合、「続行」ボタンを押して全参加者の入力後、最後の確認画面で更新すると保存されます。<br>3/7（木）までに入力ください。</p>
</div>